(()=>{document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".gallery__item").forEach((function(e){e.dataset.sliderGroupName=Math.random()>.5?"nice":"good"})),e()}));var e=function(){var e=".gallery__item",t=document.querySelectorAll(e),i=document.querySelector(".js-slider");r(t,i),s(t,i,e)},r=function(e,r){e.forEach((function(e){e.addEventListener("click",(function(e){t(e.currentTarget,"js-slider-img-click")}))}));var s=r.querySelector(".js-slider__nav--next");s&&s.addEventListener("click",(function(e){t(r,"js-slider-img-next")}));var i=r.querySelector(".js-slider__nav--prev");i&&i.addEventListener("click",(function(e){t(r,"js-slider-img-prev")}));var n=r.querySelector(".js-slider__zoom");n&&n.addEventListener("click",(function(e){e.target===e.currentTarget&&t(r,"js-slider-close")}))},t=function(e,r){console.log(e.className,"=>",r);var t=new CustomEvent(r,{bubbles:!0});e.dispatchEvent(t)},s=function(e,r,t){e.forEach((function(e){e.addEventListener("js-slider-img-click",(function(e){i(e,r,t)}))})),r.addEventListener("js-slider-img-next",n),r.addEventListener("js-slider-img-prev",c),r.addEventListener("js-slider-close",l)},i=function(e,r,t){r.classList.add("js-slider--active");var s=e.currentTarget.querySelector("img").src;r.querySelector(".js-slider__image").src=s;var i=e.currentTarget.dataset.sliderGroupName,n=document.querySelectorAll(t+"[data-slider-group-name="+i+"]"),c=document.querySelector(".js-slider__thumbs-item--prototype");n.forEach((function(e){var r=c.cloneNode(!0);r.classList.remove("js-slider__thumbs-item--prototype");var t=r.querySelector("img");t.src=e.querySelector("img").src,t.src===s&&t.classList.add("js-slider__thumbs-image--current"),document.querySelector(".js-slider__thumbs").appendChild(r)}))},n=function(e){console.log(this,"onImageNext");var r="js-slider__thumbs-image--current",t=this.querySelector("."+r),s=t.parentElement.nextElementSibling;if(s&&!s.className.includes("js-slider__thumbs-item--prototype")){var i=s.querySelector("img");i.classList.add(r),this.querySelector(".js-slider__image").src=i.src,t.classList.remove(r)}},c=function(e){console.log(this,"onImagePrev");var r="js-slider__thumbs-image--current",t=this.querySelector("."+r),s=t.parentElement.previousElementSibling;if(s&&!s.className.includes("js-slider__thumbs-item--prototype")){var i=s.querySelector("img");i.classList.add(r),this.querySelector(".js-slider__image").src=i.src,t.classList.remove(r)}},l=function(e){e.currentTarget.classList.remove("js-slider--active"),this.querySelectorAll(".js-slider__thumbs-item:not(.js-slider__thumbs-item--prototype)").forEach((function(e){return e.parentElement.removeChild(e)}))}})();